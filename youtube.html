<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMzaziTube | Mzazi Tech</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="logo">Mzazi Tech</div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="other.html">Projects</a></li>
            </ul>
        </nav>
    </header>

    <section class="youtube-project">
        <div class="project-container">
            <h2>MzaziTUBE</h2>
            <p>Search and watch YouTube videos directly on this page.</p>

            <!-- Search Bar -->
            <div class="youtube-search">
                <input type="text" id="search-query" placeholder="Search YouTube videos">
                <button onclick="searchYouTube()">Search</button>
            </div>

            <!-- Search Results -->
            <div id="video-results" class="video-results"></div>

            <!-- Video Player -->
            <div class="youtube-embed">
                <iframe id="youtube-player" width="800" height="450"
                    src=""
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </section>

    <script>
        const API_KEY = 'AIzaSyDbCgR6xhM45Dik_CLRgN2Jp05iSXj-X2Y'; // <-- Replace with your YouTube Data API v3 key

        async function searchYouTube() {
            const query = document.getElementById('search-query').value;
            const resultsContainer = document.getElementById('video-results');
            resultsContainer.innerHTML = '';

            if (!query) return;

            const apiURL = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=10&q=${encodeURIComponent(query)}&key=${API_KEY}`;

            try {
                const res = await fetch(apiURL);
                const data = await res.json();

                data.items.forEach(item => {
                    const videoId = item.id.videoId;
                    const title = item.snippet.title;
                    const thumbnail = item.snippet.thumbnails.medium.url;

                    const videoCard = document.createElement('div');
                    videoCard.classList.add('video-card');
                    videoCard.innerHTML = `
                        <img src="${thumbnail}" alt="${title}">
                        <p>${title}</p>
                    `;
                    videoCard.onclick = () => playVideo(videoId);
                    resultsContainer.appendChild(videoCard);
                });

            } catch (error) {
                resultsContainer.innerHTML = `<p style="color:red;">Error fetching videos: ${error.message}</p>`;
            }
        }

        function playVideo(videoId) {
            const player = document.getElementById('youtube-player');
            player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        }
    </script>

</body>
</html>
